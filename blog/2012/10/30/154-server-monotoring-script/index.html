<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <!-- (1) Optimize for mobile versions: http://goo.gl/EOpFl -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- (1) force latest IE rendering engine: bit.ly/1c8EiC9 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Simple Server monitoring Shell Script</title>

  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  

  <meta property="og:site_name" content="Codingarena" />
  <meta property="og:title" content="Simple Server monitoring Shell Script"/>
  
  <meta property="og:description" content="A simple shell script to monitor whether your server is running or not.This script should be made to run on some other server, because when your server goes down all the scripts will stop executing..." />
  
  <meta property="og:image" content="http://codingarena.in/blog/assets/images/manu.png" />
  <meta property="og:url" content="http://codingarena.in/blog/blog/2012/10/30/154-server-monotoring-script/" >
  <meta property="og:type" content="blog" />
  <meta property="article:published_time" content="2012-10-30T00:00:00+05:30">

  <link rel="canonical" href="http://codingarena.in/blog/blog/2012/10/30/154-server-monotoring-script/">

  <link rel="shortcut icon" href="/blog/assets/images/favicon.ico">
  <link rel="stylesheet" href="//brick.a.ssl.fastly.net/Linux+Libertine:400,400i,700,700i/Open+Sans:400,400i,700,700i">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="stylesheet" type="text/css" media="screen" href="/blog/css/main.css" />
  <link rel="stylesheet" type="text/css" media="print" href="/blog/css/print.css" />
</head>
  <body itemscope itemtype="http://schema.org/Article">
    <!-- header start -->

<a href="http://codingarena.in" class="logo-readium"><span class="logo" style="background-image: url(/blog/assets/images/manu.png)"></span></a>

<!-- header end -->
    <main class="content" role="main">
      <article class="post">
        
        <div class="noarticleimage">
          <div class="post-meta">
            <h1 class="post-title">Simple Server monitoring Shell Script</h1>
            <div class="cf post-meta-text">
              <div class="author-image" style="background-image: url(/blog/assets/images/manu.png)">Blog Logo</div>
              <h4 class="author-name" itemprop="author" itemscope itemtype="http://schema.org/Person"></h4>
              on
              <time datetime="2012-10-30T00:00:00+05:30">30 Oct 2012</time>
              tagged on <span class="post-tag-">, <a href="/tag/"></a></span>
            </div>
          </div>
        </div>
        <br>
        <br>
        <br>
        
        <section class="post-content">
          <div class="post-reading">
            <span class="post-reading-time"></span> read
          </div>
          <a name="topofpage"></a>
          <h2 id="a-simple-shell-script-to-monitor-whether-your-server-is-running-or-not">A simple shell script to monitor whether your server is running or not.</h2>
<p>This script should be made to run on some other server, because when your server goes down all the scripts will stop executing too, so there is no point in running the script on the same server.</p>

<!--more-->

<h3 id="create-a-new-file">Create a new file</h3>
<pre><code>vim servermonitor.sh
</code></pre>

<p>Add the following contents to the file and save it.</p>

<pre><code>if curl -s --head http://codingarena.in | grep "200 OK" &gt; /dev/null
    then
	    echo "Server running" &gt; /dev/null
else
	    echo " Server Down at" `date` &gt; $PWD/time
  	    curl -s --head http://codingarena.in/ &gt; $PWD/failed
	    mail -s "Server Down " neo@codingarena.in &lt; $PWD/failed
fi
</code></pre>

<p>Next make the file executable by:</p>

<pre><code>chmod u+x servermonitor.sh
</code></pre>

<p>Now add a new entry to your cron job to execute the script for the interval of time specified.</p>

<p>I am going to run it every 5 minutes, so
    crontab -e</p>

<p>and add
    */5 * * * * /path_to_file/monitor.sh</p>

<p>Save the file.</p>

<p>And thats it. whenever your server goes down you will get a mail alert.</p>

<table>
  <tbody>
    <tr>
      <td>Fork the code at <a href="https://github.com/manusajith/simple_server_monitor"> Github</a></td>
      <td><a href="https://bitbucket.org/manusajith/simple_server_monitor">Bitbucket</a></td>
    </tr>
  </tbody>
</table>

<p><a href="http://facebook.com/manusajith">Manu</a></p>

<p><a href="http://www.codingarena.in">www.codingarena.in</a></p>

<table>
  <tbody>
    <tr>
      <td><a href="http://twitter.com/manusajith" title="Twitter">@manusajith</a></td>
      <td><a href="http://github.com/manusajith" title="Github">@github</a></td>
    </tr>
  </tbody>
</table>

        </section>
        <footer class="post-footer">
          <section class="share">
            
              
                <a class="icon-twitter" href="http://twitter.com/share?text=Simple+Server+monitoring+Shell+Script&amp;url=http://codingarena.in/blog/2012/10/30/154-server-monotoring-script"
                  onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
                <i class="fa fa-twitter"></i><span class="hidden">twitter</span>
                </a>
              
            
              
            
          </section>
        </footer>
        <div class="bottom-teaser cf">
          <div class="isLeft">
            <h5 class="index-headline featured"><span>Written by</span></h5>
            <section class="author">
              <div class="author-image" style="background-image: url(/blog/assets/images/manu.png)">Blog Logo</div>
              <h4>Manu S Ajith</h4>
              <p class="bio" style="width:200%"> #programmer, #hacker, #entrepreneur, open source evangelist. #Ruby, #Golang, #Elixir, #JS, Lazy #Blogger. Writes #code for a living.</p>
              <hr>
              <p class="published">Published <time datetime="2012-10-30 00:00">30 Oct 2012</time></p>
            </section>
          </div>
          
        </div>
        
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = 'codingarenablog'; // required: replace example with your forum shortname
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        
      </article>
    </main>
    <div class="bottom-closer">
      <div class="inner">
        <a href="/blog/" class="btn">Back to Home</a>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="/blog/assets/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/blog/assets/js/index.js"></script>
<script type="text/javascript" src="/blog/assets/js/readingTime.min.js"></script>
<script>
(function ($) {
  "use strict";
  $(document).ready(function(){

    var $window = $(window),
    $image = $('.post-image-image, .teaserimage-image');
    
      $window.on('scroll', function() {
        var top = $window.scrollTop();

        if (top < 0 || top > 1500) { return; }
        $image
          .css('transform', 'translate3d(0px, '+top/3+'px, 0px)')
          .css('opacity', 1-Math.max(top/700, 0));
      });
      $window.trigger('scroll');

      var height = $('.article-image').height();
      $('.post-content').css('padding-top', height + 'px');

      $('a[href*=#]:not([href=#])').click(function() {
        if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'')
         && location.hostname == this.hostname) {
          var target = $(this.hash);
          target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
          if (target.length) {
            $('html,body').animate({ scrollTop: target.offset().top }, 500);
            return false;
          }
        }
      });

  });
}(jQuery));
</script>
  </body>
</html>
